(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_template-uni-id-weixin-set-user-info"],{"16f4":function(a,t,e){var n=e("f3ee");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var r=e("967d").default;r("fbb70ea0",n,!0,{sourceMap:!1,shadowMode:!1})},"2b81":function(a,t,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("5ef2");var r=n(e("2634")),i=n(e("2fdc")),o=uni.vk,u={data:function(){return{userInfo:{avatar:"",nickname:""}}},onLoad:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=uni.vk,this.options=a,this.init(a)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(a){this.userInfo.nickname=o.getVuex("$user.userInfo.nickname"),this.userInfo.avatar=o.getVuex("$user.userInfo.avatar")||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAASFBMVEX09Pby8vTe3uDPz9DJycm/v8C9vb3BwcLLy8vR0dLp6evn5+i1tbWysrLb29zu7vDNzc7r6+26urrg4OG3t7fj4+TFxcbV1dY8QE/jAAABo0lEQVRo3u2Yi3KCMBBFCY8EIWs0Iv7/n7Y4djqFZEXCTVtnzw+cYZfsqygEQRAEQRAEQRCEt0OVVd1o0x66rNq+tvRFc8ymdSf6gTnn8XaeZthLDm8/0JIM5s5SiCvaq3TQS96BxRVFaLHeM0XBPuhTXAz9ZGfjYkJm+ch4CVnBak5cA8UDJx5wXkUsCiY+82Jcr+h5cf9+4o4X42qX48XACsIVLrI4b6E5sQaKW06M7BIlJy6BYsUk2eIKV8EMIEQV0lu4aJsYwENXtCPD9wkT9hq0NzJX2wy72/FXAj0xLr1jDm9g1LToNeLBYS4+5PEu23Kuq8Bi5oMWy78gvs7F8OX4QTMXN3m8gY3xlEHrgvtTDX/JF09BPPb80o0UZQSO1cw94J5pTLzVzdIT7A3wokv/THtP9d6jZm/WaCfMnquba9dqJ9rdUv08ufNU7xPl5jXtRLNDvG+vaydSP1qN27yf9STpZanVP/MSk2LeGOf0aG/4r75J6dKrqlUML+L/INYp4pQrUJUiTrlNqEr7jegq15gvCIIgCIIgCIIg7M4HkS5rj/A3dbUAAAAASUVORK5CYII="},submit:function(a){this.userInfo.nickname=a.detail.value.nickname,this.updateUserInfo()},onChooseAvatar:function(a){var t=a.detail.avatarUrl;this.userInfo.avatar=t},updateUserInfo:function(){var a=this;return(0,i.default)((0,r.default)().mark((function t(){var e,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.userInfo.avatar&&a.userInfo.nickname){t.next=3;break}return o.toast("头像和昵称不能为空"),t.abrupt("return");case 3:if(e={},0===a.userInfo.avatar.indexOf("https://")){t.next=11;break}return t.next=7,o.uploadFile({filePath:a.userInfo.avatar,fileType:"image"});case 7:n=t.sent,e.avatar=n.url,t.next=12;break;case 11:e.avatar=a.userInfo.avatar;case 12:e.nickname=a.userInfo.nickname,o.userCenter.updateUser({data:e,success:function(a){o.alert("设置成功")}});case 14:case"end":return t.stop()}}),t)})))()}},watch:{},computed:{}};t.default=u},"4a01":function(a,t,e){"use strict";e.r(t);var n=e("2b81"),r=e.n(n);for(var i in n)["default"].indexOf(i)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(i);t["default"]=r.a},"4ecf":function(a,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){}));var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"app"},[e("v-uni-form",{on:{submit:function(t){arguments[0]=t=a.$handleEvent(t),a.submit.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"avatar-box"},[e("v-uni-button",{staticClass:"avatar-button",attrs:{size:"mini",plain:!0,"open-type":"chooseAvatar"},on:{chooseavatar:function(t){arguments[0]=t=a.$handleEvent(t),a.onChooseAvatar.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"avatar-image-box"},[e("v-uni-image",{staticClass:"avatar-image",attrs:{src:a.userInfo.avatar}})],1)],1)],1),e("v-uni-view",{staticClass:"nickname-box"},[e("v-uni-view",{staticClass:"nickname"},[e("v-uni-input",{staticClass:"input",attrs:{type:"nickname",name:"nickname",placeholder:"请输入昵称","placeholder-style":"color: #8e8e8e;"},model:{value:a.userInfo.nickname,callback:function(t){a.$set(a.userInfo,"nickname",t)},expression:"userInfo.nickname"}})],1)],1),e("v-uni-button",{staticStyle:{"margin-top":"40rpx"},attrs:{"form-type":"submit",type:"primary"}},[a._v("修改")])],1)],1)},r=[]},"9ad5":function(a,t,e){"use strict";e.r(t);var n=e("4ecf"),r=e("4a01");for(var i in r)["default"].indexOf(i)<0&&function(a){e.d(t,a,(function(){return r[a]}))}(i);e("af8a");var o=e("828b"),u=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"f7cfcf5a",null,!1,n["a"],void 0);t["default"]=u.exports},af8a:function(a,t,e){"use strict";var n=e("16f4"),r=e.n(n);r.a},f3ee:function(a,t,e){var n=e("c86c");t=n(!1),t.push([a.i,'@charset "UTF-8";.app[data-v-f7cfcf5a]{padding:%?30?%}.avatar-box[data-v-f7cfcf5a]{display:flex;justify-content:center}.avatar-box .avatar-button[data-v-f7cfcf5a]{border:0}.avatar-box .avatar-image-box[data-v-f7cfcf5a]{width:%?120?%;height:%?120?%;background-color:#f3f3f3;border-radius:50%;overflow:hidden;display:flex;justify-content:center;align-items:center}.avatar-box .avatar-image[data-v-f7cfcf5a]{width:%?100?%;height:%?100?%;border-radius:50%;overflow:hidden}\n/* 昵称 */.nickname-box[data-v-f7cfcf5a]{margin-top:%?40?%}.nickname-box .nickname[data-v-f7cfcf5a]{margin-top:%?16?%;width:100%;padding:%?26?% %?20?%;border-radius:%?10?%;background-color:#f8f7f8}.nickname-box .input[data-v-f7cfcf5a]{color:#080808}',""]),a.exports=t}}]);